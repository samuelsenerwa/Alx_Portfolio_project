{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport { useLeafletContext } from './context.js';\nexport function createControlHook(useElement) {\n  return function useLeafletControl(props) {\n    var context = useLeafletContext();\n    var elementRef = useElement(props, context);\n    var instance = elementRef.current.instance;\n    var positionRef = useRef(props.position);\n    var position = props.position;\n    useEffect(function addControl() {\n      instance.addTo(context.map);\n      return function removeControl() {\n        instance.remove();\n      };\n    }, [context.map, instance]);\n    useEffect(function updateControl() {\n      if (position != null && position !== positionRef.current) {\n        instance.setPosition(position);\n        positionRef.current = position;\n      }\n    }, [instance, position]);\n    return elementRef;\n  };\n}","map":null,"metadata":{},"sourceType":"module"}